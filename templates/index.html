<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShiroBurn</title>
    
    <!-- Google AdSense ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸ -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9604512601494581"
            crossorigin="anonymous"></script>

    <script>
        async function fetchBurned() {
            try {
                const response = await fetch("/api/burned");
                const data = await response.json();
                console.log("ğŸ”¥ API ì‘ë‹µ ë°ì´í„°:", data); // API ì‘ë‹µ í™•ì¸ (ë””ë²„ê¹…ìš©)
                
                if (data && data.total_burned !== undefined) {
                    document.getElementById("burnedAmount").textContent = data.total_burned.toFixed(2) + " $SHIRO";
                } else {
                    document.getElementById("burnedAmount").textContent = "ë°ì´í„° ì˜¤ë¥˜";
                }
            } catch (error) {
                console.error("âŒ Error fetching burned data:", error);
                document.getElementById("burnedAmount").textContent = "ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ";
            }
        }

        setInterval(fetchBurned, 60000); // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 

        window.onload = function() {
            fetchBurned();

            // ê´‘ê³  ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œë¥¼ 3ì´ˆ ì§€ì—°í•˜ì—¬ ì‹¤í–‰
            setTimeout(function() {
                console.log("ğŸ“¢ Google AdSense ê´‘ê³  ë¡œë“œ ì‹œì‘");
                (adsbygoogle = window.adsbygoogle || []).push({});
            }, 3000);
        };
    </script>
</head>
<body>
    <h1>ğŸ”¥ Shironeko Burn Tracker ğŸ”¥</h1>
    <p>ì´ ì†Œê°ëœ SHIRONEKO: <span id="burnedAmount">ë¡œë”© ì¤‘...</span></p>

    <!-- Google AdSense ê´‘ê³  (í˜ì´ì§€ ìƒë‹¨) -->
    <div style="text-align: center; margin: 20px 0;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="pub-9604512601494581"
             data-ad-slot="5372001330"
             data-ad-format="auto"></ins>
    </div>

    <!-- ì¶”ê°€ ê´‘ê³  ì˜ì—­ (í•˜ë‹¨ ë°°ë„ˆ) -->
    <div style="text-align: center; margin: 40px 0;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="pub-9604512601494581"
             data-ad-slot="5372001330"
             data-ad-format="horizontal"></ins>
    </div>
</body>
</html>
